{% extends 'base.html' %}
{% block title %}Donation History | BMS{% endblock %}
{% block content %}
<h3 class="mb-3">My Donation History</h3>
<div class="card shadow-sm">
  <div class="card-body">
    <div class="table-responsive">
      <table class="table align-middle">
        <thead><tr><th>Date</th><th>Bank</th><th>Units</th><th>Status</th></tr></thead>
        <tbody>
          {% for d in donations %}
          <tr>
            <td>{{ d.created_at|date:'Y-m-d H:i' }}</td>
            <td>{{ d.bank.name }}</td>
            <td>{{ d.units }}</td>
            <td>{% if d.approved %}<span class="badge text-bg-success">Approved</span>{% else %}<span class="badge text-bg-warning">Pending</span>{% endif %}</td>
          </tr>
          {% empty %}
          <tr><td colspan="4" class="text-body-secondary">No donations yet.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% if donations %}
    <nav>
      <ul class="pagination mb-0">
        {% if donations.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{ donations.previous_page_number }}">Previous</a></li>
        {% endif %}
        <li class="page-item disabled"><span class="page-link">Page {{ donations.number }} of {{ donations.paginator.num_pages }}</span></li>
        {% if donations.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ donations.next_page_number }}">Next</a></li>
        {% endif %}
      </ul>
    </nav>
    {% endif %}
  </div>
 </div>
{% endblock %}


